<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>ðŸŽ¶ Ranking Muzyk</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script>
    // Skrypt do zmiany tytuÅ‚u co 5 sekund
    let isFirstTitle = true;
    setInterval(() => {
      document.title = isFirstTitle ? "ðŸ”§ | Made By Dorson" : "ðŸŽ¶ | Ranking Muzyk";
      isFirstTitle = !isFirstTitle;
    }, 5000); // 5000 milisekund = 5 sekund
  </script>
  <style>
    body {
      background-color: #0a0a0a;
      color: white;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
      overflow-x: hidden;
    }
    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .container {
      display: flex;
      justify-content: space-between;
      padding: 2rem;
      flex-wrap: nowrap;
    }
    .songs, .column {
      flex: 1;
      min-width: 250px;
      max-width: 30%;
      margin: 0 1rem;
      padding: 1rem;
      border: 2px dashed #444;
      border-radius: 10px;
      background-color: #111;
      transition: box-shadow 0.3s ease, transform 0.2s ease;
    }
    .column.drag-over {
      animation: pulse 0.5s infinite alternate;
    }
    @keyframes pulse {
      from { transform: scale(1); }
      to { transform: scale(1.02); }
    }
    .column[data-score="10"] {
      border-color: #2bff00;
      box-shadow: 0 0 10px rgba(255, 255, 0, 0.3);
    }
    .column[data-score="5"] {
      border-color: #fffb00;
      box-shadow: 0 0 10px rgba(136, 136, 136, 0.3);
    }
    .column[data-score="0"] {
      border-color: #ff0000;
      box-shadow: 0 0 10px rgba(68, 68, 68, 0.3);
    }
    .song {
      background-color: #222;
      margin: 0.5rem 0;
      padding: 0.5rem;
      border-radius: 5px;
      cursor: grab;
      transition: transform 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease;
      opacity: 0;
      animation: fadeIn 0.5s ease forwards;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .song:hover {
      background-color: #333;
      transform: scale(1.02);
      box-shadow: 0 2px 10px rgba(255, 255, 0, 0.2);
    }
    .song:active {
      transform: scale(0.98);
    }
    .song.dropped {
      animation: dropEffect 0.3s ease;
    }
    @keyframes dropEffect {
      0% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    h2 {
      text-align: center;
      color: #fff;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
    }
    .play-btn {
      color: #ffff00;
      cursor: pointer;
      transition: color 0.2s ease;
    }
    .play-btn:hover {
      color: #888;
    }
    #introScreen {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9999;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(45deg, #0a0a0a, #1a1a1a, #0a0a0a);
      background-size: 200% 200%;
      animation: gradientShift 15s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    #introScreen video {
      max-width: 80vw;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(255, 255, 0, 0.3);
    }
    #introScreen button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #222;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: transform 0.2s ease, background 0.3s ease;
    }
    #introScreen button:hover {
      background: #333;
      transform: scale(1.1);
    }
    #downloadBtn, #resetBtn, #themeToggle, #quoteBtn {
      padding: 1rem 2rem;
      font-size: 1rem;
      background: linear-gradient(45deg, #ffff00, #888);
      color: #000;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 1rem;
      display: inline-block;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
      position: relative;
    }
    #downloadBtn:hover, #resetBtn:hover, #themeToggle:hover, #quoteBtn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(255, 255, 0, 0.5);
    }
    #downloadBtn:active, #resetBtn:active, #themeToggle:active, #quoteBtn:active {
      transform: scale(0.95);
    }
    #newSong {
      width: 80%;
      margin: 1rem auto;
      padding: 0.5rem;
      background: #222;
      color: white;
      border: 1px solid #444;
      border-radius: 5px;
      display: block;
    }
    #addSongBtn {
      padding: 0.5rem 1rem;
      background: #ffff00;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 0.5rem auto;
      display: block;
    }
    #stats {
      text-align: center;
      padding: 1rem;
      color: #888;
    }
    #timer {
      text-align: center;
      padding: 0.5rem;
      color: #ffff00;
    }
    #progressBar {
      width: 0%;
      height: 5px;
      background: linear-gradient(45deg, #ffff00, #888);
      border-radius: 5px;
      margin: 0.5rem auto;
      animation: loadProgress 2s ease forwards;
    }
    @keyframes loadProgress {
      from { width: 0%; }
      to { width: 80%; }
    }
    h7 {
      display: block;
      text-align: center;
      padding: 1rem;
      color: #888;
    }
    .light-mode {
      background-color: #f0f0f0;
      color: #000;
    }
    .light-mode .songs, .light-mode .column {
      background-color: #fff;
      border-color: #ccc;
    }
    .light-mode .song {
      background-color: #e0e0e0;
    }
    #notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #ffff00;
      color: #000;
      padding: 10px 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    #notification.show {
      opacity: 1;
    }
    #alertBox {
      position: fixed;
      top: 20px;
      left: 20px;
      background: linear-gradient(45deg, #ff0000, #850000);
      color: #000;
      padding: 10px 40px 10px 20px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(255, 255, 0, 0.5);
      font-size: 0.9rem;
      opacity: 0;
      transform: translateY(-20px);
      animation: slideIn 0.5s ease forwards, pulseAlert 2s infinite alternate;
      z-index: 1000;
    }
    #alertBox .close-btn {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      color: #000;
      transition: color 0.2s ease;
    }
    #alertBox .close-btn:hover {
      color: #fff;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes pulseAlert {
      from { box-shadow: 0 0 15px rgba(255, 255, 0, 0.5); }
      to { box-shadow: 0 0 25px rgba(255, 255, 0, 0.8); }
    }
    #quoteTooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #222;
      color: #ffff00;
      padding: 10px;
      border-radius: 5px;
      font-size: 0.9rem;
      opacity: 0;
      pointer-events: none;
      box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
      transition: opacity 0.3s ease, transform 0.3s ease;
      transform: translateX(-50%) translateY(10px);
    }
    #quoteBtn:hover #quoteTooltip {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
    #playerContainer {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #111;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 255, 0, 0.5);
      display: none;
      z-index: 1000;
    }
    #playerContainer iframe {
      border: none;
      border-radius: 5px;
    }
    #playerContainer .close-player {
      position: absolute;
      top: 5px;
      right: 5px;
      color: #ffff00;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s ease;
    }
    #playerContainer .close-player:hover {
      color: #888;
    }
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        padding: 1rem;
      }
      .songs, .column {
        max-width: 100%;
        margin: 0.5rem 0;
      }
      #downloadBtn, #resetBtn, #themeToggle, #quoteBtn {
        width: 80%;
        text-align: center;
      }
      #alertBox {
        font-size: 0.8rem;
        padding: 8px 30px 8px 15px;
      }
      #playerContainer iframe {
        width: 100%;
        height: 200px;
      }
    }
    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      text-align: center;
      padding: 10px;
      background: #0a0a0a;
      color: #888;
      font-size: 0.9rem;
    }
    .light-mode footer {
      background: #f0f0f0;
      color: #000;
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>

  <div id="introScreen">
    <video id="introVideo" src="wstep.mp4" autoplay controls playsinline></video>
    <button onclick="skipIntro()">PomiÅ„ film</button>
  </div>

  <div id="mainContent" style="display: none;">
    <div id="alertBox">
      JeÅ›li odtwarzacz nie dziaÅ‚a prawidÅ‚owo kliknij Obejrzyj w YouTube. Pracujemy nad tym!
      <span class="close-btn" onclick="closeAlert()">X</span>
    </div>
    <div id="progressBar"></div>

    <div class="container">
      <div class="songs" id="songList">
        <h2>ðŸŽµ Lista UtworÃ³w</h2>
      </div>

      <div class="column" data-score="10">
        <h2>10/10</h2>
      </div>
      <div class="column" data-score="5">
        <h2>5/10</h2>
      </div>
      <div class="column" data-score="0">
        <h2>0/10</h2>
      </div>
    </div>

    <button id="downloadBtn" onclick="downloadScreenshot()">ðŸ“¥ POBIERZ</button>
    <button id="resetBtn" onclick="resetRanking()">ðŸ”„ RESET</button>
    <button id="themeToggle" onclick="toggleTheme()">ðŸŒ™ Tryb</button>
    <button id="quoteBtn">ðŸŽ¶ Cytat
      <div id="quoteTooltip"></div>
    </button>

    <div id="stats"></div>
    <div id="timer">Czas na stronie: 0s</div>

    <input type="text" id="newSong" placeholder="Dodaj wÅ‚asny utwÃ³r">
    <button id="addSongBtn" onclick="addSong()">Dodaj</button>

    <div>
      <h7>Nowe muzyki planowane na stronie - 10.04.2025</h7>
    </div>

    <div id="notification"></div>
    <div id="playerContainer">
      <span class="close-player" onclick="closePlayer()">X</span>
    </div>
  </div>

  <footer>Â© Copyright Dorian.S</footer>

  <audio id="dropSound" src="drop.mp3"></audio>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#ffff00" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5, "random": true },
        "size": { "value": 3, "random": true },
        "line_linked": { "enable": true, "distance": 150, "color": "#888", "opacity": 0.4, "width": 1 },
        "move": { "enable": true, "speed": 2, "direction": "none", "random": false, "straight": false, "out_mode": "out" }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" } },
        "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } }
      },
      "retina_detect": true
    });

    function skipIntro() {
      const introScreen = document.getElementById('introScreen');
      const mainContent = document.getElementById('mainContent');
      introScreen.style.opacity = '0';
      setTimeout(() => {
        introScreen.style.display = 'none';
        mainContent.style.display = 'block';
        mainContent.style.opacity = '0';
        mainContent.style.transition = 'opacity 0.5s ease';
        setTimeout(() => mainContent.style.opacity = '1', 10);
      }, 300);
    }
    document.getElementById("introVideo").addEventListener("ended", skipIntro);
    setTimeout(() => {
      if (document.getElementById('introScreen').style.display !== 'none') skipIntro();
    }, 50000);

    function closeAlert() {
      const alertBox = document.getElementById('alertBox');
      alertBox.style.opacity = '0';
      alertBox.style.transform = 'translateY(-20px)';
      setTimeout(() => alertBox.style.display = 'none', 500);
    }

    function downloadScreenshot() {
      html2canvas(document.querySelector(".container")).then(canvas => {
        const link = document.createElement("a");
        link.download = "ranking.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    }

    function resetRanking() {
      const songList = document.getElementById("songList");
      document.querySelectorAll(".column .song").forEach(song => {
        songList.appendChild(song);
      });
      updateStats();
    }

    function toggleTheme() {
      document.body.classList.toggle("light-mode");
    }

    const songs = [
      { title: "DOMEK W GÃ“RACH â€“ Wrzecion, Ola KÄ™dra", videoId: "yxEuNBZ4pwM" },
      { title: "Sophia Loren â€“ Tymek, Urbanski", videoId: "O-PjYv8Vgc0" },
      { title: "Pardon â€“ Louis Villain, Budda", videoId: "gvW0meiDG-0" },
      { title: "Multisport â€“ Kaz BaÅ‚agane, Oskar83", videoId: "gDcNzblrePw" },
      { title: "PARÄ˜ CHWIL â€“ Wrzecion", videoId: "zgBUk2eObUE" },
      { title: "Nicea â€“ PRO8L3M", videoId: "846ml4oPRiU" },
      { title: "Bez Strachu â€“ Paluch", videoId: "4pu-lKgm-dg" },
      { title: "Wszyscy w Gucci â€“ Hellfield, Skolim, CrackHouse", videoId: "AhNQMjtrHgM" },
      { title: "Na Szczycie â€“ Grubson", videoId: "6BnT_wkuMBA" },
      { title: "Å»yÄ‡ aÅ¼ do bÃ³lu â€“ Chada", videoId: "s35kfWoHDhM" },
      { title: "Adrenalina â€“ NinoOficjalnie", videoId: "1wRuUOxUBts" },
      { title: "5 INFLUENCEREK â€“ Zeamsone", videoId: "OEPI8I-Zjz4" },
      { title: "JÄ™zyk CiaÅ‚a â€“ Tymek, Big Scythe", videoId: "pImrABc4s58" },
      { title: "FALA â€“ Guzior, Oskar83", videoId: "H30R1BUpRF8" },
      { title: "Pijemy Za Lepszy Czas â€“ Smolasty, 730 Huncho, Nearr", videoId: "Hr8oqVHxYog" },
      { title: "Nie potrzeba mi nic wiÄ™cej â€“ Hinol Polska Wersja", videoId: "meH-Ypryf0E" },
      { title: "Znikam â€“ Gibbs, DOPEHOUSE", videoId: "alKMn0Yw9xk" },
      { title: "Impreza â€“ Sobel", videoId: "Sug433bP-mw" },
    ];

    const songList = document.getElementById("songList");

    function createSongElement(title, index, videoId = null) {
      const div = document.createElement("div");
      div.className = "song";
      div.draggable = true;
      div.textContent = title;
      const playBtn = document.createElement("span");
      playBtn.className = "play-btn";
      playBtn.textContent = " â–¶";
      playBtn.onclick = () => playSong(title, videoId);
      div.appendChild(playBtn);
      div.style.animationDelay = `${index * 0.05}s`;
      div.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", title);
        e.dataTransfer.effectAllowed = "move";
      });
      return div;
    }

    songs.forEach((song, index) => {
      songList.appendChild(createSongElement(song.title, index, song.videoId));
    });

    document.querySelectorAll(".column").forEach(col => {
      col.addEventListener("dragover", e => {
        e.preventDefault();
        e.dataTransfer.dropEffect = "move";
        col.classList.add("drag-over");
      });
      col.addEventListener("dragleave", () => {
        col.classList.remove("drag-over");
      });
      col.addEventListener("drop", e => {
        e.preventDefault();
        const title = e.dataTransfer.getData("text/plain");
        const songDiv = [...songList.children, ...document.querySelectorAll(".column .song")].find(d => d.textContent.includes(title));
        if (songDiv) {
          songDiv.classList.add("dropped");
          col.appendChild(songDiv);
          document.getElementById("dropSound").play();
          updateStats();
          col.classList.remove("drag-over");
          setTimeout(() => songDiv.classList.remove("dropped"), 300);
        }
      });
    });

    function playSong(title, videoId) {
      const playerContainer = document.getElementById("playerContainer");
      playerContainer.innerHTML = '<span class="close-player" onclick="closePlayer()">X</span>';
      
      const embedUrl = videoId 
        ? `https://www.youtube.com/embed/${videoId}?autoplay=1`
        : `https://www.youtube.com/embed?listType=search&list=${encodeURIComponent(title)}&autoplay=1`;
      
      const iframe = document.createElement("iframe");
      iframe.width = "560";
      iframe.height = "315";
      iframe.src = embedUrl;
      iframe.allow = "autoplay; encrypted-media";
      playerContainer.appendChild(iframe);
      playerContainer.style.display = "block";
    }

    function closePlayer() {
      const playerContainer = document.getElementById("playerContainer");
      playerContainer.style.display = "none";
      playerContainer.innerHTML = '<span class="close-player" onclick="closePlayer()">X</span>';
    }

    function addSong() {
      const input = document.getElementById("newSong");
      const title = input.value.trim();
      if (title) {
        songList.appendChild(createSongElement(title, 0));
        input.value = "";
        showNotification(`Dodano utwÃ³r: ${title}`);
        confetti({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 },
          colors: ['#ffff00', '#888', '#0a0a0a']
        });
      }
    }

    function showNotification(message) {
      const notification = document.getElementById("notification");
      notification.textContent = message;
      notification.classList.add("show");
      setTimeout(() => {
        notification.classList.remove("show");
      }, 3000);
    }

    function updateStats() {
      const stats = document.getElementById("stats");
      stats.innerHTML = "";
      document.querySelectorAll(".column").forEach(col => {
        const count = col.querySelectorAll(".song").length;
        stats.innerHTML += `<p>${col.querySelector("h2").textContent}: ${count} utworÃ³w</p>`;
      });
    }
    setInterval(updateStats, 1000);

    let timeSpent = 0;
    setInterval(() => {
      timeSpent++;
      const minutes = Math.floor(timeSpent / 60);
      const seconds = timeSpent % 60;
      document.getElementById("timer").textContent = 
        `Czas na stronie: ${minutes > 0 ? minutes + 'm ' : ''}${seconds}s`;
    }, 1000);

    const quotes = [
      "Muzyka to uniwersalny jÄ™zyk ludzkoÅ›ci. â€“ H. W. Longfellow",
      "Bez muzyki Å¼ycie byÅ‚oby bÅ‚Ä™dem. â€“ Friedrich Nietzsche",
      "Muzyka wyraÅ¼a to, czego nie da siÄ™ powiedzieÄ‡. â€“ Victor Hugo",
      "Tam, gdzie sÅ‚owa zawodzÄ…, przemawia muzyka. â€“ Hans Christian Andersen",
      "Muzyka jest oddechem duszy i sumienia. â€“ Platon",
      "Å»ycie bez muzyki byÅ‚oby jak ciaÅ‚o bez duszy. â€“ Cicero",
      "Muzyka to magia, ktÃ³ra Å‚Ä…czy serca. â€“ Anonim"
    ];

    const quoteBtn = document.getElementById("quoteBtn");
    const quoteTooltip = document.getElementById("quoteTooltip");

    quoteBtn.addEventListener("mouseover", () => {
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      quoteTooltip.textContent = randomQuote;
    });
  </script>
</body>
</html>
